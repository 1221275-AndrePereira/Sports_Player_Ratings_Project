<div class="team-container">

  <!-- HEADER AND ACTION BUTTONS -->
  <div class="team-header">
    <h2>{{ 'All Created Teams' }}</h2>
  </div>

  <!-- LOADING INDICATOR -->
  <div class="loading-overlay" *ngIf="isLoading">
    <div class="spinner"></div>
    <span>{{ 'Loading' }}</span>
  </div>

  <!-- TOAST / STATUS MESSAGES -->
  <div class="team-toast" *ngIf="statusMessage" [ngClass]="statusMessageType">
    {{ statusMessage }}
  </div>

  <!-- TEMPORARY ALERTS (e.g., "No results found") -->
  <div class="team-alert" *ngIf="showAlert">
    {{ alertMessage }}
  </div>

  <!-- TABLE OF FIFA 23 PLAYERS -->
  <div class="table-container" [class.dimmed]="isLoading">
    <table class="data-table">
      <thead>
        <tr>
          <th (click)="sortBy('playerName')" class="sortable">
            {{ 'Player' }}
          </th>

          <th (click)="sortBy('country')" class="sortable">
            {{ 'Country' }}
          </th>

          <th (click)="sortBy('rating')" class="sortable">
            {{ 'FIFA 23 Rating' }}
          </th>

          <th (click)="sortBy('club')" class="sortable">
            {{ 'FIFA 23 Club' }}
          </th>

          <th (click)="sortBy('position')" class="sortable">
            {{ 'FIFA 23 Position' }}
          </th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="let fp of filteredFootballPlayers"
          [class.selected]="selectedFootballPlayer?.playerId === fp.playerId"
        >
          <td>{{ fp.playerName }}</td>
          <td>
            <img *ngIf="fp.country" [src]="getFlagPath(fp.country)" alt="{{ fp.country }}" class="flag-icon" />
            {{ fp.country }}
          </td>
          <td>{{ fp.fifA23Rating?.overallRating }}</td>
          <td>
            <img *ngIf="fp.fifA23Rating?.club" [src]="getClubPath(fp.fifA23Rating?.club)" alt="{{ fp.fifA23Rating?.club }}" class="club-icon" />
            {{ fp.fifA23Rating?.club }}
          </td>
          <td>{{ fp.fifA23Rating?.position }}</td>
        </tr>
      </tbody>
    </table>

    <!-- NO RESULTS MESSAGE -->
    <div *ngIf="!isLoading && filteredTeams.length === 0" class="no-results">
      <p>
        {{
          searchTerm
            ? ('common.noResultsFor')
            : ('No teams found')
        }}
      </p>
    </div>
  </div>

</div>